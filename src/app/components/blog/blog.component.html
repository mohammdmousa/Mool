<app-banner [src]="'assets/images/blogBnr.jpg'" [header]="'blog'"></app-banner>

<div class="loader-container" *ngIf="loading; else content">
  <app-loader></app-loader>
</div>

<ng-template #content>
  <div *ngIf="error.length" class="alert alert-danger" role="alert">
    Some Thing Is Happning When Fetch Data
  </div>

  <section
    *ngIf="blogs.length"
    class="main-section blog-section-one sameBlog bg-white"
  >
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-6 pe-lg-5">
          <a [routerLink]="['/blog_details', blogs[0].slug]">
            <figure>
              <img
                src="http://152.42.233.17{{ blogs[0]?.detailed_image }}"
                alt="*"
                class="w-100"
              />
            </figure>
          </a>
        </div>
        <div class="col-md-6">
          <div class="blogWrp d-flex align-items-center flex-row mt-3 mt-md-0">
            <div class="personName">
              <span>{{ "Admin" | translate }}</span>
            </div>
            <div class="category position-relative">
              <span
                >{{
                  currntLang == "en"
                    ? blogs[0].category_id.title_en
                    : blogs[0].category_id.title_ar
                }}
              </span>
            </div>
            <div class="pubDate">
              <span
                ><img src="assets/images/calendar.svg" alt="*" class="me-2" />{{
                  blogs[0].created_at | date
                }}</span
              >
            </div>
          </div>
          <a [routerLink]="['/blog_details', blogs[0].slug]"
            ><h3 class="my-4">
              {{ currntLang == "en" ? blogs[0].title_en : blogs[0].title_ar }}
            </h3></a
          >
          <a [routerLink]="['/blog_details']"
            ><p>
              {{ blogs[0].preview }}
            </p></a
          >
          <a [routerLink]="['/blog_details', blogs[0].slug]" class="link mt-3"
            >{{ "view more" | translate
            }}<img src="assets/images/rightArrow.svg" alt="*"
          /></a>
        </div>
      </div>
    </div>
  </section>

  <section
    *ngIf="blogs.length"
    class="main-section blog-section-two sameBlog bg-white pt-0 pb-4"
  >
    <div class="container">
      <div class="row">
        <div class="col-md-6 col-xl-4 mb-4 mb-lg-5" *ngFor="let blog of blogs">
          <a [routerLink]="['/blog_details', blog.slug]">
            <figure>
              <img
                src="http://152.42.233.17{{ blog.detailed_image }}"
                alt="*"
                class="w-100"
              />
            </figure>
            <article class="mt-3">
              <div class="blogWrp d-flex align-items-center flex-row">
                <div class="personName">
                  <span>{{ "Admin" | translate }}</span>
                </div>
                <div class="category position-relative">
                  <span>{{
                    currntLang == "en"
                      ? blog.category_id.title_en
                      : blog.category_id.title_ar
                  }}</span>
                </div>
                <div class="pubDate">
                  <span
                    ><img
                      src="assets/images/calendar.svg"
                      alt="*"
                      class="me-2"
                    />{{ blog.created_at | date }}</span
                  >
                </div>
              </div>
              <h4 class="my-4">
                {{ currntLang == "en" ? blog.title_en : blog.title_ar }}
              </h4>
              <p>
                {{ blog.preview }}
                <span class="link mt-3">
                  {{ "view more" | translate }}
                  <img src="assets/images/rightArrow.svg" alt="*"
                /></span>
              </p>
            </article>
          </a>
        </div>
      </div>
    </div>
  </section>
</ng-template>
